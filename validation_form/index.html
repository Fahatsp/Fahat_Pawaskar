<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jquery validation</title>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>

  <!-- Popper JS -->
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

  <div class="container"><br><br>
    <h1 class="text-center text-warning">PLEASE FILL YOUR DETAILS</h1>
  </div>
  <div class="col-lg-8 m-auto d-block">
    <form action="connect.php" name="myForm" method="post">
      <!-- <form action="connect.php" name="myForm" onsubmit="return validateForm()" method="post"> -->
      <div class="form-group">
        <label for="user">Firstname:</label>
        <input type="text" name="fname" id="username" class="form-control">
        <h5 id="usercheck"> </h5>
      </div>
      <div class="form-group">
        <label for="lastname">lastname:</label>
        <input type="text" name="lname" id="lastname" class="form-control">
        <h5 id="lastnamecheck"> </h5>
      </div>
      <div class="form-group">
        <label for="address">Address :</label>
        <textarea id="address"  class="address form-control"></textarea>
        <h5 id="addresscheck"> </h5>
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input type="text" name="femail" id="email" class="form-control">
        <h5 id="emailcheck"> </h5>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" name="fpass" id="password" class="form-control">
        <h5 id="passcheck"> </h5>
      </div>
      <div class="form-group">
        <label for="conpassword">Confirm Password:</label>
        <input type="password" name="fconpass" id="conpassword" class="form-control">
        <h5 id="conpasscheck"> </h5>
      </div>
      <div class="form-group">
        <label for="phone">Phone Number:</label>
        <input type="text" name="fphone" id="phone" class="form-control">
        <h5 id="phonecheck"> </h5>
      </div>
      <div class="form-group">
        <label for="zipcode">Zipcode:</label>
        <input type="text" name="fzipcode" id="zipcode" class="form-control">
        <h5 id="zipcodecheck"> </h5>
      </div>
      <div>
        <label for="gender">Gender :</label>
        <select id="gender" name="fgender">
          <option value="">Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
        </select>
      </div>
      <div class="form-group">
        <label for="dob">Date of Birth:</label>
        <input type="date" class="form-control" id="dob" name="dob">
      </div>
      <div class="form-group">
        <label for="Age"> Age :</label>
        <span class="form-control" id="age">
      </div>
      <input type="submit" id="submitbtn" value="Submit" class="btn btn-primary">
    </form>
  </div>

  <script>
    $(document).ready(function () {
      // Attach a change event handler to the date input
      $("#dob").on("change", function () {
        calculateAge();
      });
    });

    function calculateAge() {
      var dob = $("#dob").val(); // Get the selected date from the input
      var birthDate = new Date(dob); // Convert the date string to a Date object

      if (!isNaN(birthDate.getTime())) { // Check if the birthDate is valid
        var today = new Date();
        var age = today.getFullYear() - birthDate.getFullYear();

        // Adjust age if the birthday hasn't occurred yet this year
        if (today.getMonth() < birthDate.getMonth() || (today.getMonth() === birthDate.getMonth() && today.getDate() < birthDate.getDate())) {
          age--;
        }

        if (age >= 18) {
          $("#age").text(age); // Update the age span with the calculated age
        } else {
          $("#age").text(""); // Clear the age span if age is less than 18
          $("#dob").val(""); // Clear the date input
          alert("You must be 18 years or older to proceed."); // Show an alert
        }
      } else {
        $("#age").text(""); // Clear the age span if the selected date is invalid
      }
    }
  </script>

</body>
<script src="script.js"></script>

</html>